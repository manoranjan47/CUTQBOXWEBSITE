define("@widget/LAYOUT/c/Background-b24552fd.js",["exports","~/c/Layout","~/c/BackgroundImage","@wsb/guac-widget-shared@^1/lib/components/Carousel","~/c/utils2"],(function(e,t,a,o,r){"use strict";const l=e=>{const{data:a,children:o,style:r={},videoEmbed:l,videoStyleOverrides:n={},renderInsetVideoBackground:i,...s}=e,{image:c,video:g,overlayAlpha:p}=a,d=g||l&&l.vimeoId,u=!i&&{position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)",height:"auto",minHeight:"100%",width:"100%",objectFit:"cover",...n},b=!i&&{position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden"};return(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement(t.y,t.c({},s,{videoBackground:g,videoBackgroundOverlayAlpha:p,videoPoster:c,videoBgStyle:b,videoStyle:u,videoEmbed:l,renderInsetVideoBackground:i})),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{section:d?"overlay":"default",style:{position:"relative",...r}},o))};l.propTypes={category:(global.PropTypes||guac["prop-types"]).string,data:a.b.isRequired,children:(global.PropTypes||guac["prop-types"]).element,style:(global.PropTypes||guac["prop-types"]).object,viewDevice:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string,videoEmbed:(global.PropTypes||guac["prop-types"]).object,videoStyleOverrides:(global.PropTypes||guac["prop-types"]).object,renderInsetVideoBackground:(global.PropTypes||guac["prop-types"]).bool};const n=e=>{let{slide:a,index:o,forceH1:r,alignmentOption:l,heroIdPrefix:n,themeConfig:i,renderMode:s,currentSlide:c,showText:g,slideWidthPercent:p,fixedPosition:d,style:u={}}=e;const{maxWidthPercent:b=100,heroTransition:y="fade",heroClass:h,heroProps:m={}}=i,w={container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",paddingHorizontal:"medium",..."fade"===y?{opacity:c===o&&g?1:0,transition:"opacity 1s"}:{},...d&&{position:"fixed"},...u},innerContainer:{"@md":{maxWidth:`${p||b}%`}}},{tagline:T,tagline2:v,cta:E,ctaList:f}=a,C=E?.enabled,P=f?.some((e=>e?.enabled));return T||v||C||P?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:w.container,"data-slide-hero":`${n}-${o}`},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:w.innerContainer},s!==(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH&&(global.React||guac.react).createElement(h,t.c({forceH1:r,slideIndex:o,tagline:T,tagline2:v,cta:C&&E,ctaList:P&&f,alignmentOption:l},m,{isSlideshow:!0,hasCTAEnabled:C||P})))):null};n.propTypes={slide:(global.PropTypes||guac["prop-types"]).object,index:(global.PropTypes||guac["prop-types"]).number,forceH1:(global.PropTypes||guac["prop-types"]).bool,alignmentOption:(global.PropTypes||guac["prop-types"]).string,heroIdPrefix:(global.PropTypes||guac["prop-types"]).string,themeConfig:(global.PropTypes||guac["prop-types"]).object,renderMode:(global.PropTypes||guac["prop-types"]).string,currentSlide:(global.PropTypes||guac["prop-types"]).number,showText:(global.PropTypes||guac["prop-types"]).bool,slideWidthPercent:(global.PropTypes||guac["prop-types"]).number,style:(global.PropTypes||guac["prop-types"]).object,fixedPosition:(global.PropTypes||guac["prop-types"]).bool},n.defaultProps={fixedPosition:!0};class i extends(global.React||guac.react).Component{constructor(){super(...arguments),t._(this,"goToSlide",((e,t)=>{t.stopPropagation(),this.props.goToSlide(e)}))}render(){const{numSlides:e,selectedIndex:a,editingIndex:o,visible:r,containerId:l}=this.props;if(e<=1)return null;const n={list:{listStyle:"none",padding:0,marginTop:0,marginBottom:l?0:"medium","@md":{marginBottom:l?0:"large"}},listItem:{display:"inline-block",cursor:"pointer"},wrapper:{display:r?"block":"none",position:"absolute",bottom:0,left:"50%",transform:"translateX(-50%)",width:"100%",zIndex:2}},i=[];for(let r=0;r<e;r++){const e=r===a?(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Dot.Active:(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Dot,l=o>=0?{"data-field-id":"slides","data-field-route":`/mediaData/slides/${r}`}:{"data-edit-interactive":!0};i.push((global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,t.c({tag:"li",key:`dot-${r}`,style:n.listItem,onClick:this.goToSlide.bind(null,r)},l),(global.React||guac.react).createElement(e,{"data-aid":`SLIDE_SELECTION_DOT_${r}`})))}const s=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{tag:"ul",style:n.list},i);return l?(global.React||guac.react).createElement(t.J,{containerId:l},s):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:n.wrapper},s)}}i.propTypes={numSlides:(global.PropTypes||guac["prop-types"]).number,selectedIndex:(global.PropTypes||guac["prop-types"]).number,goToSlide:(global.PropTypes||guac["prop-types"]).func,editingIndex:(global.PropTypes||guac["prop-types"]).number,visible:(global.PropTypes||guac["prop-types"]).bool,containerId:(global.PropTypes||guac["prop-types"]).string};class s extends(global.React||guac.react).Component{constructor(e){super(e),t._(this,"goToPrevSlide",(e=>{e.stopPropagation(),this.props.prevSlide()})),t._(this,"goToNextSlide",(e=>{e.stopPropagation(),this.props.nextSlide()})),t._(this,"handleMatchMedia",(e=>{const{viewDevice:t,renderMode:a}=this.props,o=a===(global.Core||guac["@wsb/guac-widget-core"]).constants.renderModes.PUBLISH?"xs"===e.size:function(e){return/mobile/i.test(e)}(t);this.state.loaded&&this.state.isMobile===o||this.setState({loaded:!0,isMobile:o})})),this.state={isMobile:!1,loaded:!1}}render(){const{numSlides:e,editingIndex:a,visible:o,containerId:r,mobileContainerId:l}=this.props,{isMobile:n,loaded:i}=this.state;if(e<=1)return null;const s={overlay:{display:o&&i?"flex":"none",justifyContent:"center",position:"absolute","@xs-only":{bottom:0,left:"small",right:"small",marginBottom:"small"},"@sm":{left:0,right:0,top:"calc(50% - 20px)"}}},c=a>=0?{"data-route":"/mediaData"}:{},g=(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX.MatchMedia,{onChange:this.handleMatchMedia}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.SlideshowArrows,null,(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Previous,t.c({onClick:this.goToPrevSlide,"data-edit-interactive":!0},c)),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Button.Next,t.c({onClick:this.goToNextSlide,"data-edit-interactive":!0},c))));return n&&l?(global.React||guac.react).createElement(t.J,{containerId:l},g):r?(global.React||guac.react).createElement(t.J,{containerId:r},g):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:s.overlay},g)}}s.propTypes={numSlides:(global.PropTypes||guac["prop-types"]).number,prevSlide:(global.PropTypes||guac["prop-types"]).func,nextSlide:(global.PropTypes||guac["prop-types"]).func,editingIndex:(global.PropTypes||guac["prop-types"]).number,visible:(global.PropTypes||guac["prop-types"]).bool,containerId:(global.PropTypes||guac["prop-types"]).string,mobileContainerId:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string,viewDevice:(global.PropTypes||guac["prop-types"]).string};class c extends(global.React||guac.react).Component{componentDidUpdate(){const{goToSlide:e,editingIndex:t}=this.props;"number"==typeof t&&t>=0&&e(t)}render(){return null}}c.propTypes={renderKey:(global.PropTypes||guac["prop-types"]).number,editingIndex:(global.PropTypes||guac["prop-types"]).number,goToSlide:(global.PropTypes||guac["prop-types"]).func};const{renderModes:{LAYOUT:g,DISPLAY:p,PUBLISH:d,EDIT:u}}=(global.Core||guac["@wsb/guac-widget-core"]).constants,b=[/mediaData\/slides\/(\d+).*/,/mediaData\/(\d+).*\/image/];class y extends(global.React||guac.react).Component{constructor(){super(...arguments),this.state={currentSlide:0,showText:!1,navOpen:!1},this.afterChange=this.afterChange.bind(this),this.beforeChange=this.beforeChange.bind(this),this.handleNavDrawerOpened=this.handleNavDrawerOpened.bind(this),this.handleNavDrawerClosed=this.handleNavDrawerClosed.bind(this),this.getSlideEditingIndex=this.getSlideEditingIndex.bind(this),this._loadedImages=new Set}fireTransitionEvent(e){window.dispatchEvent(new CustomEvent("slideshowTransition",{detail:{slide:e,id:this.props.slideshow.themeConfig.slideshowId}}))}afterChange(e){const{renderMode:a,slideshow:o}=this.props,{type:l,themeConfig:{useHeroCarousel:n}}=o;a!==d||l!==t.K||n||r.p(o,e),this.setState({currentSlide:e,showText:!1},(()=>{setTimeout((()=>{this.setState({showText:!0})}),800)})),this.fireTransitionEvent(e)}beforeChange(e){this.fireTransitionEvent(e)}handleNavDrawerOpened(){this.setState({navOpen:!0})}handleNavDrawerClosed(){this.setState({navOpen:!1})}componentDidMount(){this.afterChange(0),window.addEventListener("NavigationDrawerOpened",this.handleNavDrawerOpened),window.addEventListener("NavigationDrawerClosed",this.handleNavDrawerClosed)}componentWillUnmount(){window.removeEventListener("NavigationDrawerOpened",this.handleNavDrawerOpened),window.removeEventListener("NavigationDrawerClosed",this.handleNavDrawerClosed)}getSlideEditingIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{renderMode:t}=this.props;if(t===d)return-1;let a=-1;return b.forEach((t=>{const o=e.match(t);o&&o[1]&&(a=parseInt(o[1],10))})),a}render(){const{slideshow:e,renderMode:r,mutatorPath:l,dataRoute:d,viewDevice:b,...y}=this.props,{currentSlide:h,showText:m,navOpen:w}=this.state,{slides:T,type:v,autoplay:E,autoplayDelay:f,transition:C,dots:P,arrows:I,alignmentOption:R,heroIdPrefix:x,themeConfig:S}=e,{maxWidthPercent:B=100,useHeroCarousel:D,dotsContainerId:k,arrowsContainerId:M,mobileArrowsContainerId:U}=S,O=[g,p].includes(r),X={height:"100%"};let N=!1;const H=new Set(O?[0]:[h-1<0?T.length-1:h-1,h,h+1===T.length?0:h+1]),L=T.map(((e,o)=>{const l=e||{},i=l.image||{},s=`${t.d.HEADER_SLIDE}_${o}`,c=I?Math.min(B,80):B;let g;if(v===t.K&&!D){let e=!1;!N&&l.tagline&&(e=!0,N=!0),g=(global.React||guac.react).createElement(n,{slide:l,index:o,forceH1:e,alignmentOption:R,heroIdPrefix:x,themeConfig:S,renderMode:r,currentSlide:h,showText:m,slideWidthPercent:c,style:X})}return i.image&&(this._loadedImages.has(i.image)||H.has(o))?(this._loadedImages.add(i.image),(global.React||guac.react).createElement(a.B,t.c({key:o,data:{overlayAlpha:t.O,...i}},(global._||guac.lodash).pick(y,Object.keys(a.B.propTypes)),{style:X,dataAid:s,dataRoute:""}),g)):(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:o,style:X,dataAid:s},g)})),A=this.getSlideEditingIndex(l),_={mobile:!1,position:"bottom",editingIndex:A,viewDevice:b,renderMode:r},j=[];P&&j.push({component:i,props:{..._,visible:!w,containerId:k}}),I&&j.push({component:s,props:{..._,visible:!w,containerId:M,mobileContainerId:U}});let W=E;if(O||w)W=!1;else if(r===u){W=E&&-1===A;const e=h===A?0:Math.random();j.push({component:c,props:{renderKey:e,editingIndex:A}})}const $=parseFloat(f),F={style:{container:{height:"100%"},containerInner:{height:"100%"},track:{height:"100%"},..."slide"===C?{slide:{opacity:1}}:{}},viewportWidth:"100%",viewportHeight:"100%",height:"100%",slideWidth:"100%",slideHeight:"100%",autoplay:W,autoplaySpeed:Number.isNaN($)?7e3:Math.max(1e3*$,2e3),transition:C,transitionDuration:1e3,infinite:!0,lazyLoad:!1,dots:!1,arrows:!1,draggable:W||P||I,pauseOnHover:!1,afterChange:this.afterChange,beforeChange:this.beforeChange,controls:j};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{height:"100%"}},r===u&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-field-id":d,style:{position:"absolute",top:0,bottom:0,left:0,right:0}}),(global.React||guac.react).createElement(o.default,F,L))}}y.propTypes={slideshow:(global.PropTypes||guac["prop-types"]).object,heroTrackId:(global.PropTypes||guac["prop-types"]).string,dataRoute:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string,viewDevice:(global.PropTypes||guac["prop-types"]).string,mutatorPath:(global.PropTypes||guac["prop-types"]).string};const{components:{Bootstrap:h}}=global.Core||guac["@wsb/guac-widget-core"];function m(e){return(global.React||guac.react).createElement(h.Radpack,t.c({},e,{Component:y,entry:"@widget/LAYOUT/bs-BackgroundCarousel-Component",wrapperStyle:{height:"100%"}}))}const w=e=>{let{slideshow:a}=e;const{slides:o,alignmentOption:r,heroIdPrefix:l,themeConfig:n}=a,{heroClass:i,heroProps:s={}}=n;let c=!1;const g=o.map(((e,a)=>{const o=e||{},{tagline:n,tagline2:g,cta:p,ctaList:d}=o,u=p?.enabled,b=d?.some((e=>e?.enabled));let y=!1;return!c&&o.tagline&&(y=!0,c=!0),(n||g||p&&p.enabled)&&(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{key:a,id:`${l}-content-${a}`},(global.React||guac.react).createElement(i,t.c({forceH1:y,slideIndex:a,tagline:n,tagline2:g,cta:u&&p,ctaList:b&&d,alignmentOption:r},s,{hasCTAEnabled:u||b})))}));return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:{display:"none"}},g)};w.propTypes={slideshow:(global.PropTypes||guac["prop-types"]).object};const{renderModes:{PUBLISH:T},layers:{Z_INDEX_NAV:v}}=(global.Core||guac["@wsb/guac-widget-core"]).constants,E=e=>{let{slideshow:a,navBar:o,dataRoute:l,renderMode:n,children:i,...s}=e;const{type:c,themeConfig:g}=a,{height:p,mobileHeight:d,useHeroCarousel:u}=g,b=c===t.K,y={container:{...u&&!r.s(a)&&{display:"none"},position:"relative",height:d||"560px","@md":{height:p||"80vh"},zIndex:v},overlay:{display:"flex",flexDirection:"column",position:"absolute",top:0,left:0,right:0,zIndex:v+1,...b?{height:0}:{pointerEvents:"none",bottom:0}}},h=n===T,E=h?(global._||guac.lodash).omit(a,"themeConfig.heroClass"):a;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{"data-aid":t.d.HEADER_SLIDESHOW,style:y.container},(global.React||guac.react).createElement(m,t.c({dataRoute:l,slideshow:E,renderMode:n},s)),h&&b&&r.a(a)&&(global.React||guac.react).createElement(w,{slideshow:a}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:y.overlay},b?o:i))};E.propTypes={navBar:(global.PropTypes||guac["prop-types"]).element,children:(global.PropTypes||guac["prop-types"]).element,slideshow:(global.PropTypes||guac["prop-types"]).object,dataRoute:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string};const f=(e,o)=>{const{category:r,section:n}=o,{data:i={},mediaData:s={},navBar:c,children:g,dataRoute:p,...d}=e,{category:u=r,section:b=n,treatment:y,style:h}=e,m=s.mediaType||(i.video?t.V:t.e),{videoEmbed:w,videoType:T}=s,v=(global.React||guac.react).createElement((global.React||guac.react).Fragment,null,c,g),f=(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:h,category:u,section:b},v);let C,P;if(m===t.e){const e=s.image||i;if(!e.image)return f;C=(global.React||guac.react).createElement(a.B,t.c({data:e},d,{dataRoute:p}),v),P={flexGrow:1}}else if(m===t.V){const e=s.video||i,a=T===t.G&&(!w||w&&!w.vimeoId);if(!(T&&T!==t.E||e.video)||a)return f;C=(global.React||guac.react).createElement(l,t.c({data:e,videoEmbed:w,videoType:T},d,{dataRoute:p}),v)}else if(m===t.S){const e=s.slideshow,{slides:a,type:o}=e;if(!a||0===a.length)return o===t.A?f:(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Block,{style:h,category:u,section:b},c);C=(global.React||guac.react).createElement(E,t.c({navBar:c,slideshow:e},d,{dataRoute:p}),v)}const I=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.HeaderMedia[y]||(global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.HeaderMedia;return(global.React||guac.react).createElement(I,{category:u,section:b,style:P},C)};f.propTypes={data:a.a,dataAid:(global.PropTypes||guac["prop-types"]).string,dataRoute:(global.PropTypes||guac["prop-types"]).string,mediaData:a.c,children:(global.PropTypes||guac["prop-types"]).any,category:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,treatment:(global.PropTypes||guac["prop-types"]).oneOf([t.F,t.a,t.I,t.B,t.L]),style:(global.PropTypes||guac["prop-types"]).object,navBar:(global.PropTypes||guac["prop-types"]).element},f.defaultProps={treatment:t.F,dataAid:t.d.BACKGROUND_IMAGE_RENDERED},e.B=f,e.S=n})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=Background-b24552fd.js.map
