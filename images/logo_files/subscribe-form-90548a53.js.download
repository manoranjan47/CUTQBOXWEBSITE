define("@widget/SUBSCRIBE/c/subscribe-form-90548a53.js",["exports"],(function(e){"use strict";function t(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},o.apply(this,arguments)}const s=(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.BASE,a="/imagePivot",{selectors:r}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,{utils:{not:n,createSelector:i}}=r,l=i(r.Config.flag("couponToggleHidden"),r.utils.not(r.Plan.hasCommerce),((e,t)=>!e&&!t)),c=i(l,r.Stores.Widget.option("couponToggle"),((e,t)=>e&&t)),p=n(c),u=i(r.Stores.Widget.data("background"),r.Stores.Widget.property("backgroundImage"),((e,t)=>{const o=r.utils.getWithProp(e,"image")||t;return o?(global.React||guac.react).createElement("img",{className:"mx-pivot-icon",src:o}):null})),g=i(r.Config.rootDomain,r.Account.id,r.Account.market,((e,t,o)=>`https://gem.apps.${e}/v1/provision?accountId=${t}&redirectToLogin=true&locale=${o}`)),d={label:r.I18N.get("image")},b={label:r.I18N.get("titleForCouponToggle"),hidden:n(l)},m={label:r.I18N.get("titleForSubscribeSectionTitleProp")},h={label:r.I18N.get("titleForSubscribeDescriptionProp"),description:r.I18N.get("descriptionForSubscribeDescriptionProp"),hidden:c},y={label:r.I18N.get("titleForSubscribeDescriptionProp"),description:r.I18N.get("descriptionForSubscribeDescriptionProp"),hidden:p},C={label:r.I18N.get("defaultValueForEmailPlaceholder")},T={label:r.I18N.get("titleForSubscribeConfirmMessageProp"),hidden:c},w={label:r.I18N.get("titleForSubscribeConfirmMessageProp"),hidden:p},f={label:r.I18N.get("titleForSubscribeButtonLabelProp"),link:(global.Core||guac["@wsb/guac-widget-core"]).Maniless.constants.routes.EDIT_THEME_BUTTONS_PRIMARY,linkText:r.I18N.get("editThemeStyles")},S={description:r.I18N.get("descriptionForExtBtn"),linkText:r.I18N.get("labelForExtBtn"),link:g},P={hidden:p},E={label:r.I18N.get("deleteSectionButton")},R={to:a,label:r.I18N.get("titleForBackgroundImage"),graphic:u},D=r.Blog.provisioned,I={label:r.I18N.get("titleForBlogSubscribe"),hidden:n(D)},M={hidden:n(D),showAsLink:!0,linkText:r.I18N.get("titleForManageBlogSubscriptionButton"),link:i(r.Blog.url,(e=>`${e}/subscription`)),openAsNewTab:!1,label:" "},N={showAsLink:!0,linkText:r.I18N.get("manageSubscribersHelper"),link:i(r.Config.rootDomain,r.Website.id,((e,t)=>`https://contacts.${e}/contacts?role=SUBSCRIBER&website_id=${t}`)),openAsNewTab:!1,label:" "},{selectors:v}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,_=["websiteId","rootDomain","apiUrl"],B="enable",O="disable";class x extends(global.React||guac.react).Component{static get propTypes(){return{...(global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.Toggle.propTypes,websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,rootDomain:(global.PropTypes||guac["prop-types"]).string.isRequired,apiUrl:(global.PropTypes||guac["prop-types"]).string.isRequired}}static get defaultProps(){return{...(global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.Toggle.defaultProps,websiteId:v.Website.id,rootDomain:v.Config.rootDomain,apiUrl:v.Blog.apiUrl}}constructor(){super(...arguments),t(this,"handleChange",(()=>{const{status:e}=this.state,t=!e;this.setState({status:t},(async()=>{await this.updateRssToEmailStatus(t)}))})),this.state={status:!1,disabled:!0};const{websiteId:e,rootDomain:o}=this.props;this.emailStatusUrl=function(e,t){return`https://blog.apps.${e}/v1/website/${t}/rss-to-email/status`}(o,e)}async getBlogId(){const{apiUrl:e}=this.props,t=await window.fetch(e,{method:"POST",credentials:"include"});return(await t.json()).blogId}async getRssToEmailStatus(){const e=await window.fetch(this.emailStatusUrl,{method:"GET",credentials:"include"});return(await e.json()).rssToEmail}async updateRssToEmailStatus(e){const{rootDomain:t}=this.props,{blogId:o}=this.state,s=function(e,t,o){return`https://blog.apps.${e}/v1/blog/${t}/rss-to-email/${o?B:O}`}(t,o,e),a=await window.fetch(s,{method:"PUT",credentials:"include"});return await a.json()}async componentDidMount(){const e=await this.getBlogId(),t=await this.getRssToEmailStatus();this.setState({blogId:e,status:t,disabled:!1})}render(){const{status:e,disabled:t}=this.state;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.context.Props.Consumer,null,(s=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.context.Props,o({},s,{disabled:t}),(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.Toggle,o({},(global._||guac.lodash).omit(this.props,_),{value:e,onChange:this.handleChange})))))}}function F(e,t){return new Promise(((o,s)=>{window.fetch(function(e,t){return`https://${t}.onlinestore.${e}/api/v3/config?timestamp=${Date.now()}`}(e,t),{headers:{Accept:"application/json"}}).then((e=>e.json())).then((e=>{const{subscribe_coupon:t={}}=e,{code:s}=t;o({code:s})})).catch(s)}))}const{selectors:H}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,U=H.utils.createSelector(H.Stores.Website.data("signupCoupon"),(e=>e?e.get("value",0):0)),{selectors:k}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;class L extends(global.React||guac.react).Component{static get propTypes(){return{rootDomain:(global.PropTypes||guac["prop-types"]).string.isRequired,websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,defaultCode:(global.PropTypes||guac["prop-types"]).string.isRequired,couponDiscount:(global.PropTypes||guac["prop-types"]).number.isRequired,getTranslation:(global.PropTypes||guac["prop-types"]).func.isRequired,couponMessageTitle:(global.PropTypes||guac["prop-types"]).string.isRequired,couponMessageTooltip:(global.PropTypes||guac["prop-types"]).string.isRequired}}static get defaultProps(){return{rootDomain:k.Config.rootDomain,websiteId:k.Website.id,couponDiscount:U,defaultCode:k.I18N.get("olsDefaultCouponText"),couponMessageTitle:k.I18N.get("titleForCouponMessage"),couponMessageTooltip:k.I18N.get("couponMessageTooltip")}}constructor(){super(...arguments);const{defaultCode:e}=this.props;this.state={code:`[${e}]`,loading:!0}}componentDidMount(){this.fetchData()}fetchData(){const{rootDomain:e,websiteId:t}=this.props;return F(e,t).then((e=>{let{code:t}=e;this.setState({loading:!1,...t&&{code:t}})})).catch((()=>this.setState({loading:!1})))}render(){const{couponDiscount:e,getTranslation:t,couponMessageTitle:o,couponMessageTooltip:s}=this.props,{code:a,loading:r}=this.state,n=t("couponMessageDesc",{coupon_code:a.toUpperCase(),discount:e});return r?null:(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Fieldset,{disabled:!0},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Fields.Multiline,{value:n,label:o,tooltip:(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Tooltip,{message:s})}),(global.React||guac.react).createElement("input",{type:"hidden",name:"coupon_code",value:a,className:"mx-coupon-code"}))}}const{PropTypes:q}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var A={__proto__:null,isInternalPage:q.bool.readOnly,locale:q.string.readOnly,renderMode:q.string.readOnly,env:q.string.readOnly,websiteId:q.string.readOnly,accountId:q.string.readOnly,hasNonCommercePlan:q.bool.readOnly,couponToggleHidden:q.bool.readOnly,staticContent:q.object.readOnly,id:q.string.readOnly,order:q.number.readOnly,couponDiscount:q.number.readOnly,couponDiscountMessage:q.Text.readOnly,sectionTitle:q.Text.maxCount(60),confirmationMessage:q.Multiline,couponConfirmationMessage:q.Multiline,couponDiscountConfirmationMessage:q.string.kind(L),description:q.Multiline,couponDescription:q.Multiline,inputPlaceholder:q.Text,subscribeButtonLabel:q.Text,couponToggle:q.Toggle,toggleBlogSubscribe:q.Toggle.kind(x),background:q.Image},j=(global.Core||guac["@wsb/guac-widget-core"]).Maniless.Widget.keys(A);class W{constructor(e){this.value=e}call(){let e=this.replaceCommasWithDots(this.value);return e=this.removeThousandsSeparators(e),e=this.parseToNumber(e),e=this.parseToPercentage(e),e=this.updateDigitalSeparator(e),e}get decimalSeparator(){return this.value.lastIndexOf(".")>=this.value.lastIndexOf(",")?".":","}replaceCommasWithDots(e){return e&&e.replace(/,/g,".")}removeThousandsSeparators(e){const t=e.lastIndexOf(".");return t>=0&&(e=e.substr(0,t).replace(/\./g,"").concat(e.substr(t))),e}parseToNumber(e){const t=(global._||guac.lodash).toNumber(e);return(global._||guac.lodash).isNaN(t)?0:t}parseToPercentage(e){return String((global._||guac.lodash).clamp(e,0,100))}updateDigitalSeparator(e){return e.replace(".",this.decimalSeparator)}}const{selectors:$}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;class X extends(global.React||guac.react).Component{constructor(){super(...arguments),this.handleBlur=this.handleBlur.bind(this),this.handleChange=this.handleChange.bind(this),this.sanitize=this.sanitize.bind(this),this.formatCoupon=this.formatCoupon.bind(this),this.id=(global._||guac.lodash).uniqueId("coupon"),this.state={value:this.props.couponDiscount}}handleBlur(){const e=this.sanitize(this.state.value);this.setState({value:e},(()=>{this.props.onChange({website:{data:{signupCoupon:this.formatCoupon(e)}}}),this.props.onBlur()}))}handleChange(e){this.setState({value:e||""})}sanitize(e){return new W(e).call()}formatCoupon(e){return{type:"percentage",value:e}}render(){return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Fieldset,{className:"mx-coupon",style:{position:"relative"}},(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).Maniless.Elements.Input,{id:this.id,label:this.props.label,value:this.state.value,onChange:this.handleChange,onFocus:this.props.onFocus,onBlur:this.handleBlur}),(global.React||guac.react).createElement("div",{style:{position:"absolute",top:"45%",right:40}},"%"))}}t(X,"propTypes",{couponDiscount:(global.PropTypes||guac["prop-types"]).number.isRequired,onBlur:(global.PropTypes||guac["prop-types"]).func.isRequired,onFocus:(global.PropTypes||guac["prop-types"]).func.isRequired,onChange:(global.PropTypes||guac["prop-types"]).func.isRequired,label:(global.PropTypes||guac["prop-types"]).node}),t(X,"defaultProps",{couponDiscount:U,label:$.I18N.get("titleForCouponEditor")});const{PropTypes:V}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,z="imagePivot",G="adminUrl",J="deleteSectionButton",K="coupon",Y="manageBlog",Z="manageSubscribersHelperText",Q=V.ExternalLink,ee=V.Pivot;var te={[J]:V.DeleteButton,[z]:ee,[G]:Q,[K]:V.any.kind(X),[Y]:V.ExternalLink,[Z]:V.ExternalLink};const{Mutator:oe}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;class se extends oe{}t(se,"fields",oe.mergeFields(te)),t(se,"defaultProps",oe.mergeDefaultProps({presets:{options:["subscribe1","subscribe2","subscribe3"]},[a]:d,[Z]:N,[z]:R,[J]:E,[G]:S,[K]:P,[Y]:M,[j.sectionTitle]:m,[j.confirmationMessage]:T,[j.couponConfirmationMessage]:w,[j.couponDiscountConfirmationMessage]:P,[j.description]:h,[j.inputPlaceholder]:C,[j.couponDescription]:y,[j.couponToggle]:b,[j.subscribeButtonLabel]:f,[j.toggleBlogSubscribe]:I}));const{selectors:ae}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless;var re={__proto__:null,isInternalPage:ae.Page.isInternal,locale:ae.Account.market,renderMode:ae.Config.renderMode,env:ae.Config.env,websiteId:ae.Website.id,accountId:ae.Account.id,hasNonCommercePlan:ae.utils.not(ae.Plan.hasCommerce),couponToggleHidden:ae.Config.flag("couponToggleHidden"),background:ae.utils.createSelector(ae.StockPhotos.index(0),(e=>({image:e,alt:"",editedAspectRatio:"",height:"",left:"",position:"",rotation:"",shrinkFit:!1,top:"",video:"",width:""}))),couponToggle:!0,staticContent:ae.I18N.staticContent,confirmationMessage:ae.I18N.get("defaultValueForConfirmationMessage"),couponConfirmationMessage:ae.I18N.get("defaultValueForCouponConfirmation"),sectionTitle:ae.I18N.get("defaultValueForSectionTitle"),description:ae.I18N.get("defaultValueForDescription"),couponDescription:ae.I18N.get("defaultValueForCouponDesc"),inputPlaceholder:ae.I18N.get("defaultValueForEmailPlaceholder"),subscribeButtonLabel:ae.I18N.get("defaultValueForSubscribeButtonLabel"),couponDiscountMessage:ae.I18N.get("couponMessageDesc"),couponDiscount:U};const{Widget:ne}=(global.Core||guac["@wsb/guac-widget-core"]).Maniless,ie=[j.isInternalPage,j.locale,j.renderMode,j.env,j.websiteId,j.accountId,j.hasNonCommercePlan,j.couponToggleHidden,j.sectionTitle,j.staticContent,j.confirmationMessage,j.couponConfirmationMessage,j.description,j.inputPlaceholder,j.subscribeButtonLabel,j.couponToggle,j.order,j.id,j.toggleBlogSubscribe,j.couponDiscount,j.couponDiscountMessage,j.couponDescription,j.couponDiscountConfirmationMessage];class le extends ne{}t(le,"propTypes",{...ne.propTypes,...(global._||guac.lodash).pick(A,ie)}),t(le,"defaultProps",{...ne.defaultProps,...(global._||guac.lodash).pick(re,ie)});var ce=(global.keyMirror||guac.keymirror)({SECTION_TITLE_REND:null,FORM_DESC_REND:null,CONFIRM_TEXT_REND:null,CONFIRM_DESC_REND:null,SUBSCRIBE_LABEL_REND:null,PLACEHOLDER_TEXT_REND:null,VERIFICATION_TEXT_REND:null,SUBSCRIBE_INNER_FORM_REND:null,SUBSCRIBE_EMAIL_ERR_REND:null,SUBSCRIBE_SUBMIT_BUTTON_REND:null,SECTION_BACKGROUND:null,COUPON_DESC_REND:null,COUPON_CODE_REND:null,COUPON_CODE_FETCHING:null}),pe={email:{regex:/^([a-zA-Z0-9_\-.+]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,63}(?:\.[a-z]{2})?)$/i}};class ue extends(global.React||guac.react).Component{constructor(e){super(e),this.onSubmit=this.onSubmit.bind(this),this.handleChange=this.handleChange.bind(this),this.validateForm=this.validateForm.bind(this),this.state={input:"",isValid:!0}}handleChange(e){this.setState({input:e.target.value})}buildRequestBody(){const{accountId:e,websiteId:t,locale:o,inputPlaceholder:s}=this.props;return{accountId:e,websiteId:t,locale:o,formData:[{label:s,value:this.state.input}]}}sendForm(e){const{formSubmitHost:t}=this.props;if(!t)return!1;var o=new XMLHttpRequest;return o.open("POST",`${t}/v1/subscriber`),o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.onreadystatechange=this.handleSubmitResponse,o.send(JSON.stringify(e)),!0}validateForm(){let e=!0;return e=pe.email.regex.test(this.state.input),this.setState({isValid:e}),e}validateAndSend(){if(this.validateForm()){const e=this.buildRequestBody();this.sendForm(e),this.props.onSubmit()}}onSubmit(e){e.preventDefault(),this.validateAndSend()}render(){const{input:e,isValid:t}=this.state,{inputPlaceholder:o,subscribeButtonLabel:s,staticContent:a={}}=this.props,{defaultButtonLabel:r,emailErrorMessage:n}=a,i=(0,(global.Core||guac["@wsb/guac-widget-core"]).UX2.utils.TCCLUtils.getTCCLString)({eid:"ux2.gem-subscribe.submit_form.click",type:"click"});return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.InputGroup,{input:{placeholder:o,onChange:this.handleChange,value:e},button:{children:s||r,"data-tccl":i,"data-aid":ce.SUBSCRIBE_SUBMIT_BUTTON_REND},error:!t&&n,errorProps:{"data-aid":ce.SUBSCRIBE_EMAIL_ERR_REND},onSubmit:this.onSubmit})}}ue.propTypes={accountId:(global.PropTypes||guac["prop-types"]).string,websiteId:(global.PropTypes||guac["prop-types"]).string,formSubmitHost:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,formSuccessMessage:(global.PropTypes||guac["prop-types"]).string,formFields:(global.PropTypes||guac["prop-types"]).array,formFieldVariationOptions:(global.PropTypes||guac["prop-types"]).object,onSubmit:(global.PropTypes||guac["prop-types"]).func,subscribeButtonLabel:(global.PropTypes||guac["prop-types"]).string,inputPlaceholder:(global.PropTypes||guac["prop-types"]).string,staticContent:(global.PropTypes||guac["prop-types"]).object,locale:(global.PropTypes||guac["prop-types"]).string.isRequired};const ge={verification:{wordWrap:"break-word",marginBottom:"medium"}},de=()=>(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Loader,{"data-aid":ce.COUPON_CODE_FETCHING,size:"medium",style:{marginTop:"xlarge",opacity:"0.5"}});class be extends(global.React||guac.react).Component{constructor(e){super(e),this.state={code:null,loaded:!1},this.loadCouponData=this.loadCouponData.bind(this)}componentDidMount(){this.loadCouponData()}loadCouponData(){const{olsConfigHost:e}=this.props;if(!e)return;const t=new XMLHttpRequest,o=new Date;t.open("GET",`${e}/api/v3/config?ts=${+o}`,!0),t.withCredentials=!0,t.setRequestHeader("Accept","*/*"),t.onload=()=>{let e={},o=null;try{e=t.response?JSON.parse(t.response):{}}catch(t){e={}}e.subscribe_coupon&&(o=e.subscribe_coupon.code),this.setState({code:o,loaded:!0})},t.onerror=()=>{this.setState({loaded:!0})},t.send()}render(){const{couponDiscount:e,couponDiscountMessage:t}=this.props,{code:o,loaded:s}=this.state;if(!s)return(global.React||guac.react).createElement(de,null);if(!e||!o)return null;const{Block:a,Text:r}=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Element,n=t&&t.replace("{coupon_code}",o.toUpperCase()).replace("{discount}",e);return(global.React||guac.react).createElement(a,null,(global.React||guac.react).createElement(r,{style:ge.verification,"data-aid":ce.COUPON_DESC_REND},n),(global.React||guac.react).createElement("input",{type:"hidden",name:"coupon_code",value:o,"data-aid":ce.COUPON_CODE_REND}))}}be.propTypes={olsConfigHost:(global.PropTypes||guac["prop-types"]).string.isRequired,couponDiscount:(global.PropTypes||guac["prop-types"]).number.isRequired,couponDiscountMessage:(global.PropTypes||guac["prop-types"]).string.isRequired};const me={container:{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",marginHorizontal:"auto",maxWidth:"90%","@md":{maxWidth:"80%"}},verification:{wordWrap:"break-word",marginBottom:"medium"},success:{wordWrap:"break-word",marginBottom:"medium"}},he=e=>{let{enable:t,message:o}=e;if(!t)return null;const s={style:me.success,tag:"p","data-aid":ce.CONFIRM_TEXT_REND,"data-route":"confirmationMessage"};return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text.Major,s,o)};he.propTypes={enable:(global.PropTypes||guac["prop-types"]).bool,message:(global.PropTypes||guac["prop-types"]).string};const ye=e=>{let{enable:t,text:o}=e;return t?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:me.verification,"data-aid":ce.CONFIRM_DESC_REND},o):null};ye.propTypes={enable:(global.PropTypes||guac["prop-types"]).bool,text:(global.PropTypes||guac["prop-types"]).string};class Ce extends(global.React||guac.react).PureComponent{render(){const{formSuccessMessage:e,verificationText:t,showCoupon:o,olsConfigHost:s,couponDiscount:a,couponDiscountMessage:r}=this.props;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Group.Group,{style:me.container},(global.React||guac.react).createElement(he,{enable:!!e,message:e}),(global.React||guac.react).createElement(ye,{enable:!o,text:t}),o?(global.React||guac.react).createElement(be,{olsConfigHost:s,couponDiscount:a,couponDiscountMessage:r}):null)}}Ce.propTypes={formSuccessMessage:(global.PropTypes||guac["prop-types"]).string,category:(global.PropTypes||guac["prop-types"]).string,verificationText:(global.PropTypes||guac["prop-types"]).string,showCoupon:(global.PropTypes||guac["prop-types"]).bool,olsConfigHost:(global.PropTypes||guac["prop-types"]).string,couponDiscount:(global.PropTypes||guac["prop-types"]).number,couponDiscountMessage:(global.PropTypes||guac["prop-types"]).string},Ce.defaultProps={formSuccessMessage:"",category:"",verificationText:"",showCoupon:!1,olsConfigHost:"",couponDiscount:0};var Te={local:{olsHost:"https://{websiteId}.onlinestore.dev-godaddy.com",olsPublishedSiteHost:"https://{websiteId}.onlinestore.dev-godaddy.com",formSubmitHost:"https://gem.apps.dev-godaddy.com"},development:{olsHost:"https://{websiteId}.onlinestore.dev-godaddy.com",olsPublishedSiteHost:"https://{websiteId}.onlinestore.dev-godaddy.com",formSubmitHost:"https://gem.apps.dev-godaddy.com"},test:{olsHost:"https://{websiteId}.onlinestore.test-godaddy.com",olsPublishedSiteHost:"https://{websiteId}.mysimplestore.test-godaddy.com",formSubmitHost:"https://gem.apps.test-godaddy.com"},production:{olsHost:"https://{websiteId}.onlinestore.godaddy.com",olsPublishedSiteHost:"https://{websiteId}.mysimplestore.com",formSubmitHost:"https://gem.apps.godaddy.com"}};class we extends(global.React||guac.react).Component{constructor(e){super(e),this.state={formSubmitted:!1},this.onSubmit=this.onSubmit.bind(this)}onSubmit(){this.setState({formSubmitted:!0})}renderDescriptionSection(){let{forceCouponDescription:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{description:t,couponDescription:o}=this.props,s=e||this.shouldShowCoupon(),a=s?o:t;return a?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Text,{style:{wordWrap:"break-word",textAlign:"center",marginBottom:"small"},"data-aid":ce.FORM_DESC_REND,"data-route":s?"couponDescription":"description"},a):null}renderSectionTitle(e,t,o){return e?(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Element.Heading.Middle,{"data-aid":ce.SECTION_TITLE_REND,"data-route":"sectionTitle",isInternalPage:t,order:o,style:{wordWrap:"break-word",textAlign:"center"}},e):null}getFormSubmitHost(){const{env:e}=this.props;return(Te&&Te[e]||{}).formSubmitHost}getOlsConfigHost(){const{env:e,renderMode:t,websiteId:o}=this.props,s=Te&&Te[e]||{};return(("PUBLISH"===t?s.olsPublishedSiteHost:s.olsHost)||"").replace("{websiteId}",o)}shouldShowCoupon(){const{hasNonCommercePlan:e,couponToggleHidden:t,couponToggle:o}=this.props;return Boolean(!e&&!t&&o)}render(){const{category:e,section:t,confirmationMessage:s,staticContent:a,couponConfirmationMessage:r,couponDiscount:n,couponDiscountMessage:i}=this.props,{verificationText:l}=a;if(this.state.formSubmitted)return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Base,{category:e,section:t},(global.React||guac.react).createElement(Ce,{formSuccessMessage:this.shouldShowCoupon()?r:s,verificationText:l,olsConfigHost:this.getOlsConfigHost(),showCoupon:this.shouldShowCoupon(),couponDiscount:n,couponDiscountMessage:i}));const c=(global.Core||guac["@wsb/guac-widget-core"]).UX2.Component.Grid;return(global.React||guac.react).createElement((global.Core||guac["@wsb/guac-widget-core"]).UX2.Base,{category:e,section:t},(global.React||guac.react).createElement(c,{bottom:!1,"data-aid":ce.SUBSCRIBE_INNER_FORM_REND,inset:!0},(global.React||guac.react).createElement(c.Cell,null,this.renderDescriptionSection(),(global.React||guac.react).createElement(ue,o({formSubmitHost:this.getFormSubmitHost(),onSubmit:this.onSubmit},this.props)))))}}we.propTypes={category:(global.PropTypes||guac["prop-types"]).string,formTitle:(global.PropTypes||guac["prop-types"]).string,section:(global.PropTypes||guac["prop-types"]).string,confirmationMessage:(global.PropTypes||guac["prop-types"]).string,description:(global.PropTypes||guac["prop-types"]).string,env:(global.PropTypes||guac["prop-types"]).string,renderMode:(global.PropTypes||guac["prop-types"]).string.isRequired,websiteId:(global.PropTypes||guac["prop-types"]).string.isRequired,staticContent:(global.PropTypes||guac["prop-types"]).object,locale:(global.PropTypes||guac["prop-types"]).string,hasNonCommercePlan:(global.PropTypes||guac["prop-types"]).boolean,couponToggleHidden:(global.PropTypes||guac["prop-types"]).boolean,couponToggle:(global.PropTypes||guac["prop-types"]).boolean,couponDescription:(global.PropTypes||guac["prop-types"]).string,couponConfirmationMessage:(global.PropTypes||guac["prop-types"]).string,couponDiscount:(global.PropTypes||guac["prop-types"]).number,couponDiscountMessage:(global.PropTypes||guac["prop-types"]).string},e.A=G,e.B=s,e.C=K,e.D=J,e.F=Ce,e.I=ue,e.K=j,e.M=Z,e.S=we,e._=t,e.a=se,e.b=Y,e.c=o,e.d=ce,e.e=le,e.f=z,e.g={enableFocalSelector:!0,showRemoveButton:!0,addOrReplaceImage:!0,showOverlayOpacityControls:!0,showAltText:!0},e.h=a,e.i=R,e.j=re,e.p=A})),"undefined"!=typeof window&&(window.global=window);
//# sourceMappingURL=subscribe-form-90548a53.js.map
